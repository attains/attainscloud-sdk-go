# AttainsCloud SDK For Golang.

### [中文文档](README_zh-CN.md)
#### [Attains Cloud Official Website](https://cloud.attains.cn?utm_source=github)


# Install SDK Toolkit

## Run environments

The GO SDK can run in environments of 'go1.13' and above.

## Install SDK

**Download directly from GitHub**

Download from GitHub using the 'go get' tool：

```shell
go get github.com/attains/attainscloud-sdk-go/core
go get github.com/attains/attainscloud-sdk-go/services/sms
```

**SDK directory structure**

```text
attainscloud-sdk-go
|--core                     // AttainsCloud Golang SDK Core Package
|--services                 // AttainsCloud Golang SDK Services
|  |--sms                   // AttainsCloud Sms service api
```

## Uninstalling SDK

When uninstalling the SDK, simply delete the downloaded source code.


# Usage steps

## Confirm Endpoint

Before using the SDK, it is necessary to confirm the Endpoint (service domain name) of the Attains Cloud product you will be accessing.

## Create a Client object

Each specific service has a 'Client' object, which encapsulates a series of easy-to-use methods for developers to interact with the corresponding service.

## Call function interface

Developers can call the corresponding functional interfaces based on the 'Client' object created for the corresponding service, and use the features of the Attains Cloud product.

## Example

Taking Attains Cloud SMS Service (SMS) as an example, provide a basic usage example.

```go
package main

import (
    "context"
    "fmt"
    "github.com/attains/attainscloud-sdk-go/core/httpclient"
    "github.com/attains/attainscloud-sdk-go/core/model"
    sms "github.com/attains/attainscloud-sdk-go/services/sms/v1"
    "log"
)

func main() {
	// Your Access Key and Secret Key 
	ACCESS_KEY, SECRET_KEY := "<your-access-key>", "<your-access-key>"

	// Endpoint of SMS service
	ENDPOINT := "<domain-name>"

	// Create a client for SMS services 
	attainsClient := httpclient.NewDefaultAttainsClient(ACCESS_KEY, SECRET_KEY, ENDPOINT)
	client := sms.New(attainsClient)
	
	result, err := client.GetBalance(context.Background())
	if err != nil {
		log.Panicln(err)
	}
	fmt.Println("result:", result)
}
```

# Error handling

The GO language identifies errors with error types and defines the following two types of errors:

Error type        |  Illustrate
----------------|-------------------
AttainsClientError  | Errors generated by user operations
AttainsServiceError | Error returned by Attains Cloud service

When users use the SDK to call the relevant interfaces of various services, in addition to returning the required results, they will also return errors. Users can obtain detailed information about the relevant errors for processing. The example is as follows:

```go
// SmsClient is the client object of the created SMS service
err := smsClient.SendSms(args)
if err != nil {
	switch realErr := err.(type) {
	case *attains.AttainsClientError:
		fmt.Println("client occurs error:", realErr.Error())
	case *attains.AttainsServiceError:
		fmt.Println("service occurs error:", realErr.Error())
	default:
		fmt.Println("unknown error:", err)
	}
}
fmt.Println("send sms succeed")
```

## Client exception

Client exception refers to the exception encountered by the client when attempting to send requests and data transmission to the Attains Cloud service. For example, when the network connection is unavailable when sending a request, AttainsClientError will be returned.

## Server exception

When an exception occurs on the server, the Attains Cloud server will return the corresponding error message to the user in order to locate the problem. For each type of server exception, please refer to the official website documentation of each service.

# Support product list

Product name   | Product abbreviation      | Import path                                  | Doc                    |                                            
-----------|-----------|----------------------------------------------|------------------------|
SMS service | SMS       | github.com/attains/attainscloud-sdk-go/services/sms | [doc](services/sms/README.md) |